# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2021, Red Hat Inc.
# This file is distributed under the same license as the Automation Controller User Guide package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: Automation Controller User Guide 4.3.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2022-11-04 09:32+0100\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../source/job_slices.rst:4
msgid "Job Slicing"
msgstr "任务分片"

#: ../../source/job_slices.rst:13
msgid "A :term:`sliced job` refers to the concept of a distributed job. Distributed jobs are used for running a job across a very large number of hosts, allowing you to run multiple ansible-playbooks, each on a subset of an inventory, that can be scheduled in parallel across a cluster."
msgstr ":term:`sliced job` 是指分布式作业的概念。分布式作业用于在大量主机中运行一个作业，允许您运行多个 ansible-playbook，各自针对清单的一个子集，并且可在集群中并行调度。"

#: ../../source/job_slices.rst:16
msgid "By default, Ansible runs jobs from a single control instance. For jobs that do not require cross-host orchestration, job slicing takes advantage of |at|'s ability to distribute work to multiple nodes in a cluster. Job slicing works by adding a Job Template field ``job_slice_count``, which specifies the number of jobs into which to slice the Ansible run. When this number is greater than 1, |at| will generate a workflow from a job template instead of a job. The inventory will be distributed evenly amongst the slice jobs. The workflow job is then started, and proceeds as though it were a normal workflow. When launching a job, the API will return either a job resource (if ``job_slice_count = 1``) or a workflow job resource. The corresponding User Interface will redirect to the appropriate screen to display the status of the run."
msgstr "默认情况下，Ansible 从一个单一的控制实例中运行作业。对于不需要跨主机编配的作业，作业分片可以利用 |at| 在一个集群中的多个节点中分配工作的功能。作业分片会添加作业模板字段 ``job_slice_count`` 来指定 Ansible 运行要分片的作业数量。当这个数字大于 1 时，|at| 会从作业模板而非作业生成工作流。清单将平均分布在分片作业中。然后，工作流作业启动，并像正常的工作流一样继续运行。启动作业时，API 将返回作业资源（如果 ``job_slice_count = 1``）或工作流作业资源。相应的 Tower 用户界面会重定向到适当的屏幕以显示运行状态。"

#: ../../source/job_slices.rst:20
msgid "Job slice considerations"
msgstr "作业分片注意事项"

#: ../../source/job_slices.rst:22
msgid "Consider the following when setting up job slices:"
msgstr "设置作业分片时请考虑以下几点："

#: ../../source/job_slices.rst:24
msgid "A sliced job creates a workflow job, and then that creates jobs."
msgstr "分片作业会创建一个工作流作业，然后创建作业。"

#: ../../source/job_slices.rst:26
msgid "A job slice consists of a job template, an inventory, and a slice count."
msgstr "作业分片由作业模板、清单和分片计数组成。"

#: ../../source/job_slices.rst:28
msgid "When executed, a sliced job splits each inventory into a number of \"slice size\" chunks. It then queues jobs of ansible-playbook runs on each chunk of the appropriate inventory. The inventory fed into ansible-playbook is a pared-down version of the original inventory that only contains the hosts in that particular slice. The completed sliced job that displays on the Jobs list are labeled accordingly, with the number of sliced jobs that have run:"
msgstr "执行时，分片作业会将每个清单分成多个“分片大小”的块。然后，它会在相应清单的每个块上为 ansible-playbook 运行作业排队。馈入到 ansible-playbook 的清单是一个削减版本，它只包含该特定分片中的主机。作业列表中显示的已完成的分片作业会进行相应标记，包含已运行的分片作业数量："

#: ../../source/job_slices.rst:33
msgid "These sliced jobs follow normal scheduling behavior (number of forks, queuing due to capacity, assignation to instance groups based on inventory mapping)."
msgstr "这些分片作业遵循常规调度行为（fork 数量，根据容量进行排队，根据清单映射分配给实例组）。"

#: ../../../common/source/job-slicing-rule.rst:3
msgid "Job slicing is intended to scale job executions horizontally. Enabling job slicing on a job template divides an inventory to be acted upon in the number of slices configured at launch time and then starts a job for each slice."
msgstr "作业分片旨在对作业的执行镜像水平扩展。在作业模板中启用作业分片，在启动时会将清单划分为配置的分片数量，然后为每个分片启动作业。"

#: ../../../common/source/job-slicing-rule.rst:5
msgid "It is expected that the number of slices will be equal to or less than the number of controller nodes. Setting an extremely high number of job slices (e.g., thousands), while allowed, can cause performance degradation as the job scheduler is not designed to schedule simultaneously thousands of workflow nodes, which are what the sliced jobs become."
msgstr "预计的分片数量应等于或小于控制器节点的数量。虽然可以设置非常高的作业分片数量（例如，数千个），但可能会导致性能降低。因为工作负载调度程序并不是针对同时调度数千个工作流程节点而设计的，但对作业进行大量分片会造成这个情况。"

#: ../../source/job_slices.rst:39
msgid "Sliced job templates with prompts and/or extra variables behave the same as standard job templates, applying all variables and limits to the entire set of slice jobs in the resulting workflow job. However, when passing a limit to a Sliced Job, if the limit causes slices to have no hosts assigned, those slices will fail, causing the overall job to fail."
msgstr "带有提示和/或额外变量的分片作业模板与标准作业模板的行为相同，在生成的工作流作业中向整个分片作业集应用所有变量和限制。但是，在将限制传递给分片作业时，如果限制导致分片没有分配的主机，则这些分片将失败，从而导致整个作业失败。"

#: ../../source/job_slices.rst:42
msgid "A job slice job status of a distributed job is calculated in the same manner as workflow jobs; failure if there are any unhandled failures in its sub-jobs."
msgstr "分布式作业的作业分片作业状态与工作流作业的计算方式相同；如果其子作业中有未处理的故障，则为失败状态。"

#: ../../source/job_slices.rst:46
msgid "Any job that intends to orchestrate across hosts (rather than just applying changes to individual hosts) should not be configured as a slice job. Any job that does, may fail, and |at| will not attempt to discover or account for playbooks that fail when run as slice jobs."
msgstr "任何计划在多个主机间编配（而不是只对单个主机应用更改）的作业都不应该被配置为分片作业。否则，任何作业都可能失败，|at| 也不会试图发现或考虑作为分片作业运行时失败的 playbook。"

#: ../../source/job_slices.rst:52
msgid "Job slice execution behavior"
msgstr "作业分片执行行为"

#: ../../source/job_slices.rst:54
msgid "When jobs are sliced, they can run on any node and some may not run at the same time (insufficient capacity in the system, for example). When slice jobs are running, job details display the workflow and job slice(s) currently running, as well as a link to view their details individually."
msgstr "当作业被分片时，它们可以在任何节点上运行，有些则可能不会同时运行（例如，系统中的容量不足）。当分片作业运行时，作业详情会显示当前运行的工作流和作业分片，以及用于单独查看其详情的链接。"

#: ../../source/job_slices.rst:58
msgid "By default, job templates are not normally configured to execute simultaneously (``allow_simultaneous`` must be checked in the API or **Enable Concurrent Jobs** in the UI). Slicing overrides this behavior and implies ``allow_simultaneous`` even if that setting is unchecked. See :ref:`ug_JobTemplates` for information on how to specify this, as well as the number of job slices on your job template configuration."
msgstr "默认情况下，作业模板通常不会被配置为同时执行（必须在 API 中或 UI 中的 **Enable Concurrent Jobs** 中检查 ``allow_simultaneous``）。分片操作会覆盖此行为并使用 ``allow_simultaneous``，即使未选中此设置也是如此。如需了解如何指定此设置的信息，以及作业模板配置中的作业分片数量，请参阅 :ref:`ug_JobTemplates`。"

#: ../../source/job_slices.rst:60
msgid "The :ref:`ug_JobTemplates` section provides additional detail on performing the following operations in the User Interface:"
msgstr ":ref:`ug_JobTemplates` 部分提供了在用户界面中执行以下操作的更多详情："

#: ../../source/job_slices.rst:62
msgid "Launch workflow jobs with a job template that has a slice number greater than one"
msgstr "使用包括分片数量大于一的作业模板启动工作流作业"

#: ../../source/job_slices.rst:63
msgid "Cancel the whole workflow or individual jobs after launching a slice job template"
msgstr "启动分片作业模板后取消整个工作流或单独的作业"

#: ../../source/job_slices.rst:64
msgid "Relaunch the whole workflow or individual jobs after slice jobs finish running"
msgstr "在分片完成运行后重新启动整个工作流或单独的作业"

#: ../../source/job_slices.rst:65
msgid "View the details about the workflow and slice jobs after a launching a job template"
msgstr "在启动作业模板后查看工作流和作业的详情"

#: ../../source/job_slices.rst:66
msgid "Search slice jobs specifically after you create them (see subsequent section, :ref:`ug_job_slice_search`)"
msgstr "在创建分片作业后专门搜索它们（请参阅后续 :ref:`ug_job_slice_search` 部分）"

#: ../../source/job_slices.rst:74
msgid "Search job slices"
msgstr "搜索作业分片"

#: ../../source/job_slices.rst:76
msgid "To make it easier to find slice jobs, use the Search functionality to apply a search filter to:"
msgstr "要更方便地查找分片作业，请使用搜索功能将搜索过滤器应用到："

#: ../../source/job_slices.rst:78
msgid "job lists to show only slice jobs"
msgstr "作业列表仅显示分片作业"

#: ../../source/job_slices.rst:79
msgid "job lists to show only parent workflow jobs of job slices"
msgstr "作业列表仅显示作业分片的父工作流"

#: ../../source/job_slices.rst:80
msgid "job templates lists to only show job templates that produce slice jobs"
msgstr "作业模板列表仅显示生成分片作业的作业模板"

#: ../../source/job_slices.rst:83
msgid "To show only slice jobs in job lists, as with most cases, you can filter either on the type (jobs here) or ``unified_jobs``:"
msgstr "如果只需要显示作业列表中的分片作业，如同大多数情况一样，您可以根据类型（此处的作业）或 ``unified_jobs`` 进行过滤："

#: ../../source/job_slices.rst:90
msgid "To show only parent workflow jobs of job slices:"
msgstr "仅显示作业分片的父工作流作业："

#: ../../source/job_slices.rst:97
msgid "To show only job templates that produce slice jobs:"
msgstr "仅显示生成分片作业的作业模板："

