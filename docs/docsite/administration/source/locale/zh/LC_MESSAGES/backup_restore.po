# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2021, Red Hat Inc.
# This file is distributed under the same license as the Automation Controller Administration Guide package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: Automation Controller Administration Guide 4.3.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2022-11-04 09:32+0100\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../source/backup_restore.rst:5
msgid "Backing Up and Restoring"
msgstr "备份和恢复"

#: ../../source/backup_restore.rst:13
msgid "The ability to backup and restore your system(s) is integrated into the platform setup playbook. Refer to :ref:`ag_clustering_backup_restore` for additional considerations."
msgstr "备份和恢复系统的功能已集成到平台设置的 playbook 中。请参阅 :ref:`ag_clustering_backup_restore` 了解更多信息。"

#: ../../source/backup_restore.rst:17
msgid "When restoring, be sure to restore to the same version from which it was backed up. However, you should always use the most recent minor version of a release to backup and/or restore your platform installation version. For example, if the current platform version you are on is 2.0.x, use only the latest 2.0 installer."
msgstr "在恢复时，请确保将其恢复到备份时的同一版本。但是，您应该始终使用最新的次版本来备份和/或恢复您的平台安装版本。例如，如果您当前的平台版本是 2.0.x，则使用最新的 2.0 安装程序。"

#: ../../source/backup_restore.rst:19
msgid "Also, backup and restore will *only* work on PostgreSQL versions supported by your current platform version. For more information, see `System Requirements <https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.0-ea/html-single/red_hat_ansible_automation_platform_installation_guide/index?lb_target=production#red_hat_ansible_automation_platform_system_requirements>`_."
msgstr "另外，备份和恢复*只能*通过您当前的平台版本所支持的 PostgreSQL 版本进行。如需了解更多信息，请参阅 `System Requirements <https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.0-ea/html-single/red_hat_ansible_automation_platform_installation_guide/index?lb_target=production#red_hat_ansible_automation_platform_system_requirements>`_."

#: ../../source/backup_restore.rst:22
msgid "The platform setup playbook is invoked as ``setup.sh`` from the path where you unpacked the platform installer tarball. It uses the same inventory file used by the install playbook. The setup script takes the following arguments for backing up and restoring:"
msgstr "平台设置 playbook 通过从您解压缩平台安装程序 tarball 的路径中运行 ``setup.sh`` 进行调用。它使用与安装（install）playbook 相同的清单文件。设置脚本使用以下参数来备份和恢复："

#: ../../source/backup_restore.rst:28
msgid "``-b`` Perform a database backup rather than an installation."
msgstr "``-b`` 执行数据库备份而不是安装。"

#: ../../source/backup_restore.rst:29
msgid "``-r`` Perform a database restore rather than an installation."
msgstr "``-r`` 执行数据库恢复而不是安装。"

#: ../../source/backup_restore.rst:31
msgid "As the root user, call ``setup.sh`` with the appropriate parameters and the platform backup or restored as configured."
msgstr "作为 root 用户，使用适当的参数以及配置的平台备份或恢复来调用 ``setup.sh``。"

#: ../../source/backup_restore.rst:43
msgid "Backup files will be created on the same path that setup.sh script exists. It can be changed by specifying the following ``EXTRA_VARS`` :"
msgstr "备份文件将创建在 setup.sh 脚本存在的同一路径上。路径可以通过指定以下 ``EXTRA_VARS`` 进行修改："

#: ../../source/backup_restore.rst:50
msgid "A default restore path is used unless ``EXTRA_VARS`` are provided with a non-default path, as shown in the example below:"
msgstr "除非为 ``EXTRA_VARS`` 提供了非默认路径，否则会使用默认恢复路径，如下例所示："

#: ../../source/backup_restore.rst:57
msgid "Optionally, you can override the inventory file used by passing it as an argument to the setup script:"
msgstr "可选，您可以将使用清单文件传递给设置脚本，以覆盖该文件："

#: ../../source/backup_restore.rst:65
msgid "Backup/Restore Playbooks"
msgstr "备份/恢复 Playbook"

#: ../../source/backup_restore.rst:72
msgid "In addition to the ``install.yml`` file included with your ``setup.sh`` setup playbook, there are also ``backup.yml`` and ``restore.yml`` files for your backup and restoration needs."
msgstr "除了 ``setup.sh`` setup playbook 中包含的 ``install.yml`` 文件，还提供 ``backup.yml`` 和 ``restore.yml`` 文件，以满足备份和恢复需求。"

#: ../../source/backup_restore.rst:74
msgid "These playbooks serve two functions--backup and restore."
msgstr "这些 playbook 提供两个功能：备份和恢复。"

#: ../../source/backup_restore.rst:76
msgid "The overall backup will backup:"
msgstr "整体备份将会备份以下内容："

#: ../../source/backup_restore.rst:78
msgid "the database"
msgstr "数据库"

#: ../../source/backup_restore.rst:79
msgid "the ``SECRET_KEY`` file"
msgstr "``SECRET_KEY`` 文件"

#: ../../source/backup_restore.rst:81
msgid "The per-system backups include:"
msgstr "针对每个系统的备份包括："

#: ../../source/backup_restore.rst:83
msgid "custom user config files"
msgstr "自定义用户配置文件"

#: ../../source/backup_restore.rst:84
msgid "manual projects"
msgstr "manual 项目"

#: ../../source/backup_restore.rst:86
msgid "The restore will restore the backed up files and data to a freshly installed and working second instance of the controller."
msgstr "恢复将备份的文件和数据恢复到新安装的、可正常工作的第二个控制器实例中。"

#: ../../source/backup_restore.rst:88
msgid "When restoring your system, the installer checks to see that the backup file exists before beginning the restoration. If the backup file is not available, your restoration will fail."
msgstr "恢复系统时，安装程序检查确认在开始恢复之前是否存在备份文件。如果备份文件不可用，您的恢复将会失败。"

#: ../../source/backup_restore.rst:92
msgid "Ensure your controller host(s) are properly set up with SSH keys or user/pass variables in the hosts file, and that the user has sudo access."
msgstr "确定您的控制器主机使用 SSH 密钥或主机文件中的用户/密码变量进行正确设置，且该用户有 sudo 访问权限。"

#: ../../source/backup_restore.rst:96
msgid "Backup and Restoration Considerations"
msgstr "备份和恢复注意事项"

#: ../../source/backup_restore.rst:102
msgid "Disk Space: Review your disk space requirements to ensure you have enough room to backup configuration files, keys, and other relevant files, plus the database of the platform installation."
msgstr "磁盘空间：检查您的磁盘空间需求，以确保有足够的空间备份配置文件、密钥及其他相关文件，以及平台安装使用的数据库。"

#: ../../source/backup_restore.rst:103
msgid "System Credentials: Confirm you have the system credentials you need when working with a local database or a remote database. On local systems, you may need root or ``sudo`` access, depending on how credentials were setup. On remote systems, you may need different credentials to grant you access to the remote system you are trying to backup or restore."
msgstr "系统凭证：确认您在使用本地数据库或远程数据库时具有所需的系统凭证。在本地系统上，您可能需要 root 或 ``sudo`` 访问权限，具体取决于如何设置凭证。在远程系统中，您可能需要不同的凭证，才能获得访问要备份或恢复的远程系统的访问权限。"

#: ../../source/backup_restore.rst:104
msgid "You should always use the most recent minor version of a release to backup and/or restore your platform installation version. For example, if the current platform version you are on is 2.0.x, use only the latest 2.0 installer."
msgstr "您应该始终使用发行版本的最新次版本来备份和/或恢复您的平台安装版本。例如，如果您的当前平台版本是 2.0.x，则使用最新的 2.0 安装程序。"

#: ../../source/backup_restore.rst:105
msgid "When using ``setup.sh`` to do a restore from the default restore file path, ``/var/lib/awx``, ``-r`` is still required in order to do the restore, but it no longer accepts an argument. If a non-default restore file path is needed, the user must provide this as an extra var (``root@localhost:~# ./setup.sh -e 'restore_backup_file=/path/to/nondefault/backup.tar.gz' -r``)."
msgstr "当使用 ``setup.sh`` 从默认恢复文件路径 ``/var/lib/awx`` 进行恢复时，仍然需要 ``-r`` 才能进行恢复，但它不再接受参数。如果需要非默认恢复文件路径，用户必须将此路径作为额外变量（``root@localhost:~# ./setup.sh -e 'restore_backup_file=/path/to/nondefault/backup.tar.gz' -r``）。"

#: ../../source/backup_restore.rst:106
msgid "If the backup file is placed in the same directory as the ``setup.sh`` installer, the restore playbook will automatically locate the restore files. In this case, you do not need to use the ``restore_backup_file`` extra var to specify the location of the backup file."
msgstr "如果备份文件放在与 ``setup.sh`` 安装程序相同的目录中，则恢复 (restore) playbook 将自动定位恢复的文件。在这种情况下，不需要使用 ``restore_backup_file`` 额外变量来指定备份文件的位置。"

#: ../../source/backup_restore.rst:111
msgid "Backup and Restore for Clustered Environments"
msgstr "集群环境的备份和恢复"

#: ../../source/backup_restore.rst:117
msgid "The procedure for backup and restore for a clustered environment is similar to a single install, except with some considerations described in this section."
msgstr "集群环境的备份和恢复过程与单一安装类似，除了本节所述的注意事项。"

#: ../../source/backup_restore.rst:119
msgid "If restoring to a new cluster, make sure the old cluster is shut down before proceeding because they could conflict with each other when accessing the database."
msgstr "如果恢复到新集群，请确保在进行操作前关闭旧集群，因为它们在访问数据库时可能会相互冲突。"

#: ../../source/backup_restore.rst:120
msgid "Per-node backups will only be restored to nodes bearing the same hostname as the backup."
msgstr "每个节点的备份将只恢复到与备份具有相同主机名的节点。"

#: ../../source/backup_restore.rst:122
msgid "When restoring to an existing cluster, the restore contains:"
msgstr "当恢复到现有集群时，恢复包含："

#: ../../source/backup_restore.rst:124
msgid "Dump of the PostgreSQL database"
msgstr "PostgreSQL 数据库转储（dump）"

#: ../../source/backup_restore.rst:125
msgid "UI artifacts (included in database dump)"
msgstr "UI 工件（包括在数据库转储中）"

#: ../../source/backup_restore.rst:126
msgid "Controller configuration (retrieved from ``/etc/tower``)"
msgstr "控制器配置（从 ``/etc/tower`` 中获得）"

#: ../../source/backup_restore.rst:127
msgid "Controller secret key"
msgstr "控制器 secret 密钥"

#: ../../source/backup_restore.rst:128
msgid "Manual projects"
msgstr "Manual 项目"

#: ../../source/backup_restore.rst:133
msgid "Restoring to a different cluster"
msgstr "恢复到不同的集群"

#: ../../source/backup_restore.rst:135
msgid "When restoring a backup to a separate instance or cluster, manual projects and custom settings under /etc/tower are retained. Job output and job events are stored in the database, and therefore, not affected."
msgstr "当将备份恢复到单独的实例或集群时，会保留 /etc/tower 下的手动项目和自定义设置。作业输出和作业事件存储在数据库中，因此不会受到影响。"

#: ../../source/backup_restore.rst:137
msgid "The restore process will not alter instance groups present before the restore (neither will it introduce any new instance groups). Restored controller resources that were associated to instance groups will likely need to be reassigned to instance groups present on the new controller cluster."
msgstr "恢复过程不会在恢复前修改实例组（它不会引入任何新的实例组）。被恢复的与实例组关联的控制器资源可能需要被重新分配到新的控制器集群中的实例组中。"

